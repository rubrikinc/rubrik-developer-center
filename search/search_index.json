{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Getting Started with the RSC API","text":"<p>The RSC API architecture is GraphQL. Here we give a brief explanation of GraphQL, like github does.</p> <p>graphql language docs</p> <p>Talk about RSC instance and the API endpoint.</p>"},{"location":"glossary/","title":"Glossary","text":"<ul> <li>Snappable: A workload that can be protected by a Rubrik snapshot</li> <li>Connection: A paginated list of objects</li> <li>Field: Data that can be requested. A field is anything from a query to a specific property in GraphQL</li> <li>Nodes: a flat list of objects in a GraphQL connection.</li> <li>Edges: a list of objects that contain both the node and the pagination cursor.</li> </ul>"},{"location":"data-protection/data-center/vmware-vsphere/general-information/","title":"General information","text":"<p>For information on protection capabilities, see the Rubrik Security Cloud documentation</p>"},{"location":"data-protection/data-center/vmware-vsphere/job-status/","title":"Job status","text":""},{"location":"data-protection/data-center/vmware-vsphere/job-status/#description","title":"Description","text":"<p>Monitoring job status may be necessary to continue on after a job is complete.</p> <p>To monitor job status for VMware vSphere, you will need the ID of the cluster where the job is running, and the ID of the request. You can query the task status periodically until a terminal state (<code>SUCCEEDED</code>, <code>FAILED</code>, <code>CANCELLED</code>) is set given in the status field.</p>"},{"location":"data-protection/data-center/vmware-vsphere/job-status/#code-samples","title":"Code Samples","text":""},{"location":"data-protection/data-center/vmware-vsphere/job-status/#graphql","title":"GraphQL","text":"<p><pre><code>query requestStatus($id: String! $clusterUuid: UUID!) {\n  vSphereVMAsyncRequestStatus(id: $id, clusterUuid: $clusterUuid) {\n    id\n    status\n    startTime\n    progress\n    endTime\n    error {\n      message\n    }\n  }\n}\n</code></pre> For complete query capabilities, see the API Reference</p>"},{"location":"data-protection/data-center/vmware-vsphere/job-status/#rubrik-security-cloud-powershell-sdk","title":"Rubrik Security Cloud PowerShell SDK","text":"<pre><code>$statusQuery = New-RscQuery -GqlQuery vSphereVMAsyncRequestStatus\n$statusQuery.var.id = $request.Id\n$statusQuery.var.clusterUuid = $my_vm.cluster.Id\n$status = Invoke-Rsc $statusQuery\n</code></pre>"},{"location":"data-protection/data-center/vmware-vsphere/job-status/#curl","title":"curl","text":"<pre><code>curl --location 'https://EXAMPLE.my.rubrik.com/api/graphql' \\\n--header 'Content-Type: application/json' \\\n--header 'Authorization: Bearer XXXXXXX' \\\n--data '{\"query\":\"query requestStatus($id: String! $clusterUuid: UUID!) {  vSphereVMAsyncRequestStatus(id: $id clusterUuid: $clusterUuid) { id status startTime progress endTime error { message }}}\",\"variables\":{\"id\":\"TASK_ID\",\"clusterUuid\":\"CLUSTER_UUID\"}}'\n</code></pre>"},{"location":"data-protection/data-center/vmware-vsphere/on-demand-backup/","title":"On demand backup","text":""},{"location":"data-protection/data-center/vmware-vsphere/on-demand-backup/#on-demand-backup","title":"On-Demand Backup","text":""},{"location":"data-protection/data-center/vmware-vsphere/virtual-machines/","title":"Virtual machines","text":""},{"location":"data-protection/data-center/vmware-vsphere/virtual-machines/#virtual-machines","title":"Virtual Machines","text":""},{"location":"data-protection/data-center/vmware-vsphere/virtual-machines/#retrieving-virtual-machine-information","title":"Retrieving Virtual Machine Information","text":"<p>To list virtual machines known by Rubrik, you can perform the following. There are various filters to search by name, MOID, cluster, organization, and more.</p> <p>GraphQL API REFERENCE <pre><code>query getVirtualMachines {\n  vSphereVmNewConnection{\n    nodes {\n      name\n      id\n    }\n  }\n}\n</code></pre></p> <p>Rubrik Security Cloud PowerShell SDK</p> <pre><code>Get-RscVmwareVm\n</code></pre> <p>cUrl <pre><code>curl --location 'https://rubrik-gaia.my.rubrik.com/api/graphql' \\\n--header 'Content-Type: application/json' \\\n--header 'Authorization: Bearer XXXXXXX' \\\n--data '{\"query\":\"query getVirtualMachines { vSphereVmNewConnection{nodes { name id }}}\",\"variables\":{}}'\n</code></pre></p>"}]}